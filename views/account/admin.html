{% extends 'layout.html' %}

{% block body %}
<div class="container-fluid">
  {% if messages.success %}
  <div role="alert" class="alert alert-success">
    {% for success in messages.success %}
    <div>{{ success.msg }}</div>
    {% endfor %}
  </div>
  {% endif %}
  {% if messages.error %}
  <div role="alert" class="alert alert-danger">
    {% for error in messages.error %}
    <div>{{ error.msg }}</div>
    {% endfor %}
  </div>
  {% endif %}
  {% if messages.info %}
  <div role="alert" class="alert alert-info">
    {% for info in messages.info %}
    <div>{{ info.msg }}</div>
    {% endfor %}
  </div>
  {% endif %}
  <div class="row">
    <div class="col-md-4 col-md-offset-4">
      <div class="panel">
          <div class="panel-body">
              {% for request in users.requests %}
                <div class="border">
                    <p>Date: {{ request.date }}</p>
                    <p>Requested amount: {{ request.amount }}</p>
                    {% if read %}
                    {% if request.approved %}
                    <p style="color: darkgreen;">Approved</p>
                    {% else %}
                    <p style="color: darkred;">Denied</p>
                    <p>Reason: {{ request.denyreason }}</p>
                    {% endif %}
                    {% else %}
                    <p>Request Pending</p>
                    {% endif %}
                </div>
              {% endfor %}
          </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
